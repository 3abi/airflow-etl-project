# âœ… Test de Non-RÃ©gression Technique â€” `toto`

Ce projet exÃ©cute un **test de non-rÃ©gression technique** (*TNR*) pour comparer deux versions de livrables techniques â€” typiquement des fichiers **XML**, **CSV**, **LOG** â€” de faÃ§on simple et traÃ§able.

---

## ğŸ¯ **Objectif**

- VÃ©rifier automatiquement :
  - Lâ€™existence des fichiers dans les deux versions
  - La cohÃ©rence des tailles de fichiers
  - Le contenu **texte triÃ©** ligne par ligne (pour neutraliser lâ€™ordre)
- Fournir :  
  - Un **rapport `.txt`** dÃ©taillÃ© et structurÃ©
  - Des comparaisons visuelles **WinMerge**
  - Un diff **texte brut** via `fc` (ou `difflib` Python en secours)

---

## ğŸ“‚ **Structure recommandÃ©e**


projet/
â”œâ”€â”€ scripts/
â”‚ â””â”€â”€ toto.py # Ton script principal
â”œâ”€â”€ utils/
â”‚ â””â”€â”€ WinMergeU.exe # Version portable de WinMerge
â”œâ”€â”€ INPUT/
â”‚ â”œâ”€â”€ Resultats_95_V1/ # Exemple Version 1
â”‚ â””â”€â”€ Resultats_95_V2/ # Exemple Version 2
â”œâ”€â”€ TNR_RESULTS/ # Rapport gÃ©nÃ©rÃ© + fichiers triÃ©s
â””â”€â”€ README.md # Ce fichier


---

## âš™ï¸ **PrÃ©requis**

- Python 3.x installÃ©.
- `WinMergeU.exe` (version portable) placÃ© dans `utils/`.
- Pour `fc` :
  - Disponible nativement sous **Windows** (`fc.exe`).
- Pas besoin dâ€™autre module externe (tout est Python standard).

---

## âœ… **Fonctionnement**

1ï¸âƒ£ Le script trie chaque fichier cible ligne par ligne pour neutraliser lâ€™ordre (utile pour CSV/LOG/XML si lâ€™ordre nâ€™est pas significatif).  
2ï¸âƒ£ Il compare chaque paire (`v1` â†” `v2`) :
   - **Visuellement** avec **WinMerge** (ouvre la fenÃªtre GUI).
   - **Automatiquement** en ligne de commande avec `fc` :
     - Diff brute intÃ©grÃ©e dans le rapport `.txt`.
     - Si `fc` nâ€™est pas dispo, `difflib` Python prend le relais.
3ï¸âƒ£ Il gÃ©nÃ¨re :
   - Un rapport texte `TNR_RESULTS/report_global.txt` dÃ©taillant tout.
   - Des copies triÃ©es dans `TNR_RESULTS/SORTED_FILES`.

---

## ğŸ—‚ï¸ **Extensions traitÃ©es**

Par dÃ©faut :

.xml, .csv, .log


Ces extensions sont comparÃ©es **sans sensibilitÃ© Ã  la casse**.

---

## ğŸš€ **Lancer le test**

Dans ton terminal (PowerShell ou `cmd.exe`) :

```bash
python scripts/toto.py --version1 "INPUT/Resultats_95_V1" --version2 "INPUT/Resultats_95_V2"



CrÃ©e un run_tnr.bat :

@echo off
echo Lancement du TNR...
python scripts\toto.py --version1 "INPUT/Resultats_95_V1" --version2 "INPUT/Resultats_95_V2"
pause





Objet : DonnÃ©es manquantes â€“ VÃ©rification et actions Ã  venir

Bonjour,

Je fais suite au mail de DDD (ci-dessous). Jâ€™ai essayÃ© de reproduire ces Ã©carts de notre cÃ´tÃ© pour les sections concernÃ©es. AprÃ¨s vÃ©rification des fichiers XML, jâ€™ai constatÃ© que ces donnÃ©es sont absentes dans les deux versions V1 et V2. Jâ€™ai Ã©galement vÃ©rifiÃ© les donnÃ©es dâ€™entrÃ©e dans le dossier Â« INPUT/ Â» : ces informations nâ€™y figurent pas non plus. Câ€™est, selon moi, la raison pour laquelle elles nâ€™apparaissent pas dans les rÃ©sultats des versions V1 et V2.

Jâ€™en conclus que nous ne disposons probablement pas de la derniÃ¨re mise Ã  jour des donnÃ©es dâ€™entrÃ©e pour le lot 34.

Actions :

RÃ©cupÃ©rer les nouvelles donnÃ©es du lot 34 afin de pouvoir reproduire ces Ã©carts de notre cÃ´tÃ©.

Bien cordialement,
[Votre Nom]




Bonjour,

Suite Ã  votre retour concernant les lignes manquantes, nous avons menÃ© plusieurs vÃ©rifications pour comprendre lâ€™origine de ces Ã©carts.

Dans un premier temps, nous avons tentÃ© de reproduire ces Ã©carts de notre cÃ´tÃ© sur les sections concernÃ©es. Nous avons ensuite vÃ©rifiÃ© le contenu des fichiers XML gÃ©nÃ©rÃ©s pour les versions V1 et V2 : nous avons constatÃ© que les donnÃ©es signalÃ©es comme manquantes nâ€™y figurent pas et quâ€™il nâ€™y a pas dâ€™Ã©cart entre les fichiers produits pour V1 et V2.

Nous avons Ã©galement contrÃ´lÃ© les fichiers dâ€™entrÃ©e disponibles dans le dossier Â« INPUT/ Â» : lÃ  encore, les informations manquantes ne sont pas prÃ©sentes. Cela confirme que ces donnÃ©es nâ€™ont pas Ã©tÃ© intÃ©grÃ©es lors du traitement, faute de disponibilitÃ© en entrÃ©e.

Nous en concluons donc que nous ne disposons probablement pas de la derniÃ¨re mise Ã  jour des donnÃ©es dâ€™entrÃ©e pour le lot 34.

Prochaine Ã©tape :
Afin de pouvoir poursuivre notre analyse et rÃ©soudre ces Ã©carts, nous vous proposons de nous transmettre la version la plus rÃ©cente des donnÃ©es du lot 34. DÃ¨s rÃ©ception, nous relancerons les traitements et reviendrons vers vous avec les rÃ©sultats mis Ã  jour.

Nous restons Ã  votre disposition pour toute prÃ©cision complÃ©mentaire.

Bien cordialement,
