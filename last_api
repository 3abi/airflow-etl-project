<!-- profil.html -->
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Profil d'une action</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; padding: 2rem; background-color: #f9f9f9; }
    input, button { padding: 10px; margin: 0.5rem 0.5rem 1rem 0; font-size: 1rem; border-radius: 5px; border: 1px solid #ccc; }
    button { background: #007BFF; color: white; cursor: pointer; }
    button:hover { background: #0056b3; }
    #output { padding: 1rem; background: white; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    .error { color: red; }
  </style>
</head>
<body>
  <h2>ðŸ“˜ Profil d'une action</h2>
  <input type="text" id="symbolInput" placeholder="Ex: AAPL, MSFT, AIR.PA">
  <button onclick="getProfile()">Afficher</button>
  <div id="output"></div>

  <script>
    const apiKey = "TA_CLE_API"; // Remplace par ta clÃ© API

    async function getProfile() {
      const symbol = document.getElementById("symbolInput").value.trim().toUpperCase();
      const output = document.getElementById("output");
      output.innerHTML = "Chargement...";

      if (!symbol) {
        output.innerHTML = "<p class='error'>Veuillez entrer un symbole.</p>";
        return;
      }

      try {
        const res = await fetch(`https://api.marketstack.com/v1/tickers/${symbol}?access_key=${apiKey}`);
        const data = await res.json();

        if (!data?.data) {
          output.innerHTML = "<p class='error'>Symbole introuvable.</p>";
          return;
        }

        const d = data.data;
        output.innerHTML = `
          <h3>${d.name} (${d.symbol})</h3>
          <p><strong>Bourse :</strong> ${d.stock_exchange.name} (${d.stock_exchange.acronym})</p>
          <p><strong>Pays :</strong> ${d.stock_exchange.country}</p>
          <p><strong>Devise :</strong> ${d.currency}</p>
          <p><strong>Site :</strong> <a href="${d.website}" target="_blank">${d.website}</a></p>
        `;
      } catch (e) {
        console.error(e);
        output.innerHTML = "<p class='error'>Erreur lors de la rÃ©cupÃ©ration.</p>";
      }
    }
  </script>
</body>
</html>
