Bien sûr ! Voici une version encore plus détaillée et pédagogique, ligne par ligne, pour t’aider à bien comprendre chaque module et chaque endpoint utilisé dans ton script.

📘 Documentation détaillée — Code API Marketstack & Yahoo Finance
🟨 1. Marketstack — Endpoints API utilisés
🔹 /eod/latest — ID: eod_latest
Type : Endpoint de données de marché

But : Obtenir les dernières valeurs de clôture d’un titre boursier (AAPL, MSFT, etc.)

Données retournées :

open, high, low, close, volume, date

Utilisation dans le code :

Affichage dans la section “📈 Données EOD actuelles”

Montre une photo instantanée de la performance actuelle de l’action

🔹 /eod — ID: eod_history
Type : Endpoint historique

But : Récupérer les données quotidiennes (EOD) sur une longue période (5 ans ou plus)

Données retournées :

Identiques à /eod/latest mais en série temporelle

Utilisation dans le code :

Traité et trié pour créer un graphique d’évolution du prix

Rendu visuel avec Chart.js

🔹 /tickers/{symbol} — ID: ticker
Type : Endpoint descriptif

But : Récupérer les informations générales sur un titre

Données retournées :

name → nom de l’entreprise

symbol → ticker

currency → devise

stock_exchange.name, stock_exchange.acronym → marché boursier

Utilisation dans le code :

Bloc “📌 Détails lisibles du ticker”

Affichage lisible (et non brut) des infos clés

🔹 /exchanges — ID: exchanges
Type : Endpoint global

But : Récupérer la liste des marchés boursiers disponibles

Données retournées :

name, acronym, mic, country, etc.

Utilisation dans le code :

Section “🌍 Marchés Boursiers (Exchanges)”

Utile pour comprendre où sont listés les titres

🔹 /intraday — ID: intraday
Type : Endpoint de marché temps réel

But : Fournir les cours en temps quasi-réel par minute

Données retournées :

Données de prix pour chaque minute : date, open, close, etc.

Utilisation dans le code :

Graphique “⏱️ Intraday 1min”

⚠️ Nécessite un plan PRO pour fonctionner

Géré avec grâce si l’API retourne 403 ou 429

🔹 /dividends — ID: dividends
Type : Endpoint fondamental

But : Lister l’historique des dividendes versés par l’action

Utilisation dans le code :

Bloc “💰 Dividendes”

Permet d’évaluer la politique de retour aux actionnaires

🔹 /splits — ID: splits
Type : Endpoint fondamental

But : Retourner les fractionnements d’actions (splits) historiques

Utilisation dans le code :

Bloc “🔀 Splits”

Ex : une action devient 2 (2:1 split)

🟦 2. Yahoo Finance — Modules utilisés
Tous les modules sont récupérés depuis :

bash
Copier
Modifier
GET https://yfapi.net/v11/finance/quoteSummary/{symbol}?modules=...
Voici une liste des modules demandés avec leur rôle :
Module	Rôle & Données
price	Données de base : prix, currency, marketCap
summaryDetail	PER, dividende, beta, rendement
financialData	Chiffres financiers clés : revenu, cash, dettes, bookValue
defaultKeyStatistics	EPS, actions en circulation, ratios
calendarEvents	Prochaine date de résultats, dividendes
earnings	Revenus & bénéfices trimestriels/annuels
esgScores	Données ESG (environnement, social, gouvernance)
assetProfile	Description de la société, employés, localisation
recommendationTrend	Achat/Vente/Neutre recommandés par les analystes
upgradeDowngradeHistory	Historique de recommandations
insiderHolders	Liste des dirigeants/actionnaires internes
insiderTransactions	Achats/ventes des insiders
majorHoldersBreakdown	Répartition actionnaires (institutionnels, public)
incomeStatementHistory	Compte de résultat historique
balanceSheetHistory	Bilan comptable
cashflowStatementHistory	Flux de trésorerie
netSharePurchaseActivity	Activité nette sur les actions
sectorTrend	Tendances générales du secteur
quoteType	Type d’actif : Equity, ETF, Crypto, etc.
🔐 Sécurité et résilience
Chaque appel est protégé individuellement (try/catch)

Si un appel échoue → la page continue de fonctionner

Un message d’erreur personnalisé est affiché avec le code (403, 429, etc.)
